(()=>{"use strict";var e=document.querySelector(".popup_type_edit"),t=document.querySelector(".popup_type_new-card"),n=document.querySelector(".popup_type_image"),r=document.querySelector(".profile__edit-button"),o=document.querySelector(".profile__add-button"),c=(document.querySelector(".popup_type_edit .popup__form"),document.querySelector(".popup_type_new-card .popup__form")),p=document.querySelector(".popup__input_type_name"),a=document.querySelector(".popup__input_type_description"),u=document.querySelector(".user__name"),l=document.querySelector(".user__job"),d=Array.from(document.querySelectorAll(".popup")),i=document.querySelector(".places__list"),s=document.querySelector(".popup__caption"),_=document.querySelector(".popup__image");function m(e){if("Escape"===e.key){var t=d.find((function(e){return e.classList.contains("popup_is-opened")}));t&&k(t)}}function y(e){e.target===e.currentTarget&&k(e.target)}function v(e){k(e.target.closest(".popup"))}function f(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",m)}function k(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",m)}function q(e,t){var r=t.deleteCardCallback,o=t.openImageCallback,c=t.likeCardCallback,p=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),a=p.querySelector(".card__image"),u=p.querySelector(".card__title"),l=p.querySelector(".card__like-button");return a.src=e.link,a.alt=e.name,u.textContent=e.name,p.querySelector(".card__delete-button").addEventListener("click",(function(){r(p)})),a.addEventListener("click",(function(){o(a,_,s,n)})),l.addEventListener("click",(function(){c(l)})),p}r.addEventListener("click",(function(){u&&l&&(p.value=u.textContent,a.value=l.textContent),f(e)})),o.addEventListener("click",(function(){f(t)})),d.forEach((function(e){var t=e.querySelector(".popup__close");e.addEventListener("click",y),t.addEventListener("click",v)}));var S=document.querySelector('.popup__form[name="new-place"]');c.addEventListener("submit",b),S.addEventListener("submit",(function(e){return b(e)}));var g={deleteCardCallback:function(e){e.remove()},openImageCallback:function(e,t,n,r){t.src=e.src,t.alt=e.alt,n.textContent=e.alt,f(r)},likeCardCallback:function(e){e.classList.toggle("card__like-button_is-active")}};function b(e){e.preventDefault(),console.log(e.target);var n=e.target.querySelector('.popup__input[name="place-name"]'),r=e.target.querySelector('.popup__input[name="link"]'),o=(null==n?void 0:n.value)||"",c=q({link:(null==r?void 0:r.value)||"",name:o},g);i.prepend(c),e.target.reset(),k(t)}!function(e,t){i.innerHTML="";for(var n=0;n<e.length;n++){var r=q(e[n],t);i.appendChild(r)}}([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],g)})();
//# sourceMappingURL=index.js.map